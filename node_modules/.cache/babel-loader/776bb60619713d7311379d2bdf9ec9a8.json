{"remainingRequest":"/media/carlos/Datos importantes/Desarrollo app web citas medicas/semana-5-77-front/node_modules/babel-loader/lib/index.js!/media/carlos/Datos importantes/Desarrollo app web citas medicas/semana-5-77-front/src/store/index.js","dependencies":[{"path":"/media/carlos/Datos importantes/Desarrollo app web citas medicas/semana-5-77-front/src/store/index.js","mtime":1608731068098},{"path":"/media/carlos/Datos importantes/Desarrollo app web citas medicas/semana-5-77-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/carlos/Datos importantes/Desarrollo app web citas medicas/semana-5-77-front/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGRlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIvaW5kZXgiOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHRva2VuOiBudWxsLAogICAgdXN1YXJpbzogbnVsbAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgc2V0VXN1YXJpbzogZnVuY3Rpb24gc2V0VXN1YXJpbyhzdGF0ZSwgdXN1YXJpbykgewogICAgICBzdGF0ZS51c3VhcmlvID0gdXN1YXJpbzsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGd1YXJkYXJUb2tlbjogZnVuY3Rpb24gZ3VhcmRhclRva2VuKF9yZWYsIHRva2VuKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHRva2VuKTsKICAgICAgY29tbWl0KCJzZXRVc3VhcmlvIiwgZGVjb2RlKHRva2VuKSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHRva2VuKTsKICAgIH0sCiAgICBhdXRvTG9naW46IGZ1bmN0aW9uIGF1dG9Mb2dpbihfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb25zb2xlLmxvZygiYXV0b2xvZ2luIik7CiAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwoKICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHRva2VuKTsKICAgICAgICBjb21taXQoInNldFVzdWFyaW8iLCBkZWNvZGUodG9rZW4pKTsKICAgICAgfQoKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdob21lJwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgc2FsaXI6IGZ1bmN0aW9uIHNhbGlyKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgic2V0VG9rZW4iLCBudWxsKTsKICAgICAgY29tbWl0KCJzZXRVc3VhcmlvIiwgbnVsbCk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/media/carlos/Datos importantes/Desarrollo app web citas medicas/semana-5-77-front/src/store/index.js"],"names":["Vue","Vuex","decode","router","use","Store","state","token","usuario","mutations","setToken","setUsuario","actions","guardarToken","commit","localStorage","setItem","autoLogin","console","log","getItem","push","name","catch","salir","removeItem","modules"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,KAAK,EAAE,IADJ;AAEHC,IAAAA,OAAO,EAAE;AAFN,GADmB;AAK1BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,QADO,oBACEJ,KADF,EACSC,KADT,EACgB;AACnBD,MAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACH,KAHM;AAIPI,IAAAA,UAJO,sBAIIL,KAJJ,EAIWE,OAJX,EAIoB;AACvBF,MAAAA,KAAK,CAACE,OAAN,GAAgBA,OAAhB;AACH;AANM,GALe;AAa1BI,EAAAA,OAAO,EAAE;AACLC,IAAAA,YADK,8BACoBN,KADpB,EAC2B;AAAA,UAAjBO,MAAiB,QAAjBA,MAAiB;AAC5BA,MAAAA,MAAM,CAAC,UAAD,EAAaP,KAAb,CAAN;AACAO,MAAAA,MAAM,CAAC,YAAD,EAAeZ,MAAM,CAACK,KAAD,CAArB,CAAN;AACAQ,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BT,KAA9B;AACH,KALI;AAMLU,IAAAA,SANK,4BAMiB;AAAA,UAAVH,MAAU,SAAVA,MAAU;AAClBI,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,UAAIZ,KAAK,GAAGQ,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAZ;;AACA,UAAIb,KAAJ,EAAW;AACPO,QAAAA,MAAM,CAAC,UAAD,EAAaP,KAAb,CAAN;AACAO,QAAAA,MAAM,CAAC,YAAD,EAAeZ,MAAM,CAACK,KAAD,CAArB,CAAN;AACH;;AACDJ,MAAAA,MAAM,CAACkB,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ,EAA8BC,KAA9B,CAAoC,YAAM,CAAG,CAA7C;AAEH,KAfI;AAgBLC,IAAAA,KAhBK,wBAgBa;AAAA,UAAVV,MAAU,SAAVA,MAAU;AACdA,MAAAA,MAAM,CAAC,UAAD,EAAa,IAAb,CAAN;AACAA,MAAAA,MAAM,CAAC,YAAD,EAAe,IAAf,CAAN;AACAC,MAAAA,YAAY,CAACU,UAAb,CAAwB,OAAxB;AACAtB,MAAAA,MAAM,CAACkB,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACH;AArBI,GAbiB;AAoC1BI,EAAAA,OAAO,EAAE;AApCiB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport decode from \"jwt-decode\";\nimport router from \"../router/index\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        token: null,\n        usuario: null\n    },\n    mutations: {\n        setToken(state, token) {\n            state.token = token;\n        },\n        setUsuario(state, usuario) {\n            state.usuario = usuario;\n        }\n    },\n    actions: {\n        guardarToken({ commit }, token) {\n            commit(\"setToken\", token)\n            commit(\"setUsuario\", decode(token))\n            localStorage.setItem(\"token\", token)\n        },\n        autoLogin({ commit }) {\n            console.log(\"autologin\");\n            let token = localStorage.getItem(\"token\");\n            if (token) {\n                commit(\"setToken\", token);\n                commit(\"setUsuario\", decode(token));\n            }\n            router.push({ name: 'home' }).catch(() => { });\n\n        },\n        salir({ commit }) {\n            commit(\"setToken\", null);\n            commit(\"setUsuario\", null);\n            localStorage.removeItem(\"token\");\n            router.push({ name: 'home' });\n        }\n    },\n    modules: {}\n});"]}]}